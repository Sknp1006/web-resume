import{_ as E}from"./All.c1f625f9.js";import{s as _,v as x,w as g,d,r as m,a as f,c as v,x as p,y as k,z as b,u as j,o as C,A as R,f as a,b as l,h as w,B as P,g as T}from"./app.d3850181.js";import{a as y,i as V,g as A,u as D}from"./editor.7453a5b8.js";import"./yamlWorker.651cf9d1.js";import"./editorWorker.107b4ee0.js";const M=async()=>{if(window.monaco)return{monaco:window.monaco};const i=await _(()=>import("./editor.main.94ca348e.js").then(function(e){return e.b}),["assets/editor.main.94ca348e.js","assets/editor.main.f5d64b0d.css","assets/editorWorker.107b4ee0.js","assets/yamlWorker.651cf9d1.js"]);return window.monaco=i,await Promise.all([(async()=>{const[{default:e},{default:t}]=await Promise.all([_(()=>import("./editor.worker.e66cf3a9.js"),[]),_(()=>import("./yaml.worker.1f92c2b3.js"),[])]);self.MonacoEnvironment={getWorker(n,r){return r==="yaml"?new t:new e}}})()]),x()&&await new Promise(e=>g(e)),{monaco:i}};const W=d({setup(i){let e;const t=y(),n=m();async function r(){if(V){const{monaco:o}=await M();n.value&&!e&&(e=o.editor.create(n.value,{language:"yaml",theme:p.value?"vs-dark":"vs",wordWrap:"on",value:t.resumeText}),self.addEventListener("resize",()=>{e.layout()}),t.setEditor(e),e.onDidChangeModelContent(s=>{t.setResume(e.getValue())})),k(p,s=>{o.editor.setTheme(s?"vs-dark":"vs")})}}return r(),(o,s)=>(f(),v("div",{id:"editor-container",ref:(c,u)=>{u.container=c,n.value=c}},null,512))}});const B={class:"editor-page text-center"},I={class:"preview-container"},L={class:"resume-container resume"},S={class:"editor-container"},O={class:"resume-btn mt-3",href:"/resume",target:"_blank"},Y=d({setup(i){const e=y(),{t}=b(),n=j(),r=m(e.resumeText);return C(async()=>{var o;if(!A("text")){const s=`# ${t("editor.name")}
`+await D(n.query.url);e.setResume(s),(o=e.codeEditor)==null||o.setValue(s)}}),(o,s)=>{const c=E,u=W,h=R("client-only");return f(),v("div",B,[a("div",I,[a("div",L,[l(c,{resume:w(e).resumeJson},null,8,["resume"])]),a("div",S,[l(h,null,{default:P(()=>[l(u,{text:r.value},null,8,["text"])]),_:1})])]),a("div",null,[a("a",O,T(w(t)("button.see_resume")),1)])])}}});export{Y as default};
