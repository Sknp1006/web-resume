import{q as v,r as m,m as x,s as d}from"./app.d3850181.js";import{j as C}from"./yamlWorker.651cf9d1.js";async function L(t){return t||(t="/resume/2021.resume.yml"),await fetch(t).then(n=>n.text())}const a=typeof window!="undefined",l="web-resume";function j(t,r){a&&localStorage.setItem(`${l}-${t}`,r)}function k(t){return a&&localStorage.getItem(`${l}-${t}`)}const R=v("editor",()=>{const t=m(),r=m(k("text")||"");let n;const f=x(()=>{try{n=C.load(r.value),_()}catch(e){e&&g(e.mark.line+1,e.mark.column+1,e.reason)}return n});async function _(){var s;const e=(s=t.value)==null?void 0:s.getModel();if(e&&a){const{editor:i}=await d(()=>import("./editor.main.94ca348e.js").then(function(o){return o.b}),["assets/editor.main.94ca348e.js","assets/editor.main.f5d64b0d.css","assets/editorWorker.107b4ee0.js","assets/yamlWorker.651cf9d1.js"]);i.setModelMarkers(e,"yaml",[])}}async function g(e,s,i){var u;const o=(u=t.value)==null?void 0:u.getModel();if(o&&a){const{editor:p,MarkerSeverity:E}=await d(()=>import("./editor.main.94ca348e.js").then(function(h){return h.b}),["assets/editor.main.94ca348e.js","assets/editor.main.f5d64b0d.css","assets/editorWorker.107b4ee0.js","assets/yamlWorker.651cf9d1.js"]);p.setModelMarkers(o,"yaml",[{startLineNumber:e,endLineNumber:e,startColumn:s,endColumn:o.getLineContent(e).length+1,severity:E.Error,message:i}])}}function c(e){r.value=e,j("text",e)}function y(e){c(e)}function M(e){t.value=e}return{codeEditor:t,resumeText:r,resumeJson:f,setEditor:M,setResume:y,setResumeText:c}});export{R as a,k as g,a as i,L as u};
